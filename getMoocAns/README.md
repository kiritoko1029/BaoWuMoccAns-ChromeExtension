# MoocAns宝武慕课答案获取——谷歌浏览器插件

## 快速使用🚀

1. 安装：拖拽项目文件夹到浏览器插件页面或者用浏览器打包成crx格式后改后缀为zip格式拖到浏览器插件页面。
2. 使用：打开确保插件处于开启状态，在插件页面点击Service Worker会弹出开发者工具，在慕课中点击开始考试，当出现考试页面，Service Worker控制台会出现每道题的答案。

## 二次开发🤖

### 先说一下我的实现思路，其余看代码注释~~和官方文档~~：

> 这里不推荐官方文档，全是英文，晦涩难懂，可以看这位大佬翻译的[Chrome 扩展V3 中文文档](https://doc.yilijishu.info/chrome/scripting.html)

1. 监听新打开或激活的页面，保存是慕课页面但非考试页面的tabId；

2. 监听到打开了考试页面，往步骤1中保存的tab标签页注入js代码，这段代码使用浏览器自带的fetch请求答案数据。请求有两个参数用户id和examId。

3. 解析答案，让人一眼能看到每道题选什么，理论上你拿着这个原始答案一个一个对也可以进行解答，不过比较麻烦就是了。

4. 将解析到的答案发送会插件，用console.log在控制台打印出来。



### 想实现但未实现的功能

1. 为答案单独开发一个弹出页面，官方文档有popup.html，单击插件可以弹出一个页面，但是由于用到了js注入，过不了安全性策略这一步，所以也就放弃了。
2. 打开考试页面拿到答案后自动填写答案，一步到位！理论上实现也不难，但是难得实现了。所谓做人留一步